<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>MoodShare</title>
    <link rel="icon" href="/assets/icons/logo_cropped.jpg" />
    <link rel="stylesheet" href="/styles/main.css" />
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded"
    />
    <script
      type="module"
      src="https://cdn.jsdelivr.net/npm/emoji-picker-element@^1/index.js"
    ></script>
  </head>

  <body>
    <header>
      <div class="logo">
        <h1>MoodShare</h1>
        <p>Exprime ton mood</p>
      </div>
    </header>
    <nav>
      <button id="homeTab" class="active">
        <span class="material-symbols-rounded">home</span
        ><!--<p>Accueil</p>-->
      </button>
      <button id="postsTab">
        <span class="material-symbols-rounded">post</span
        ><!--<p>Accueil</p>-->
      </button>
      <button id="createTab">
        <span class="material-symbols-rounded">add_circle</span
        ><!--<p>Accueil</p>-->
      </button>
      <button id="popularTab">
        <span class="material-symbols-rounded">mode_heat</span
        ><!--<p>Accueil</p>-->
      </button>
      <button id="profileTab">
        <span class="material-symbols-rounded">account_circle</span
        ><!--<p>Accueil</p>-->
      </button>
      <button id="settingsTab">
        <span class="material-symbols-rounded">settings</span
        ><!--<p>Accueil</p>-->
      </button>
    </nav>
    <section id="homeTab" class="tab active">
      <div class="stories">
        <h2>Stories</h2>
        <div class="stories-list">
          <div class="story skeleton"></div>
          <div class="story skeleton"></div>
          <div class="story skeleton"></div>
          <div class="story skeleton"></div>
          <div class="story skeleton"></div>
        </div>
      </div>

      <div class="posts-section">
        <h2>Posts récents</h2>
        <div class="post skeleton"></div>
        <div class="post skeleton"></div>
        <div class="post skeleton"></div>
      </div>

      <div class="suggested-accounts">
        <h2>Comptes à suivre</h2>
        <div class="accounts-list">
          <div class="account skeleton"></div>
          <div class="account skeleton"></div>
          <div class="account skeleton"></div>
        </div>
      </div>

      <div class="posts-section">
        <h2>Plus de posts</h2>
        <div class="post skeleton"></div>
        <div class="post skeleton"></div>
      </div>
      <div class="posts-section">
        <h2>Plus de posts</h2>
        <div class="post skeleton"></div>
        <div class="post skeleton"></div>
      </div>
      <div class="posts-section">
        <h2>Plus de posts</h2>
        <div class="post skeleton"></div>
        <div class="post skeleton"></div>
      </div>
      <div class="posts-section">
        <h2>Plus de posts</h2>
        <div class="post skeleton"></div>
        <div class="post skeleton"></div>
      </div>
      <div class="posts-section">
        <h2>Plus de posts</h2>
        <div class="post skeleton"></div>
        <div class="post skeleton"></div>
      </div>
      <div class="posts-section">
        <h2>Plus de posts</h2>
        <div class="post skeleton"></div>
        <div class="post skeleton"></div>
      </div>
      <div class="posts-section">
        <h2>Plus de posts</h2>
        <div class="post skeleton"></div>
        <div class="post skeleton"></div>
      </div>
      <div class="posts-section">
        <h2>Plus de posts</h2>
        <div class="post skeleton"></div>
        <div class="post skeleton"></div>
      </div>
      <div class="posts-section">
        <h2>Plus de posts</h2>
        <div class="post skeleton"></div>
        <div class="post skeleton"></div>
      </div>
      <div class="posts-section">
        <h2>Plus de posts</h2>
        <div class="post skeleton"></div>
        <div class="post skeleton"></div>
      </div>
      <div class="posts-section">
        <h2>Plus de posts</h2>
        <div class="post skeleton"></div>
        <div class="post skeleton"></div>
      </div>
      <div class="posts-section">
        <h2>Plus de posts</h2>
        <div class="post skeleton"></div>
        <div class="post skeleton"></div>
      </div>
      <div class="posts-section">
        <h2>Plus de posts</h2>
        <div class="post skeleton"></div>
        <div class="post skeleton"></div>
      </div>
      <div class="posts-section">
        <h2>Plus de posts</h2>
        <div class="post skeleton"></div>
        <div class="post skeleton"></div>
      </div>
      <div class="posts-section">
        <h2>Plus de posts</h2>
        <div class="post skeleton"></div>
        <div class="post skeleton"></div>
      </div>
      <div class="posts-section">
        <h2>Plus de posts</h2>
        <div class="post skeleton"></div>
        <div class="post skeleton"></div>
      </div>
      <div class="posts-section">
        <h2>Plus de posts</h2>
        <div class="post skeleton"></div>
        <div class="post skeleton"></div>
      </div>
      <div class="posts-section">
        <h2>Plus de posts</h2>
        <div class="post skeleton"></div>
        <div class="post skeleton"></div>
      </div>
      <div class="posts-section">
        <h2>Plus de posts</h2>
        <div class="post skeleton"></div>
        <div class="post skeleton"></div>
      </div>
      <div class="posts-section">
        <h2>Plus de posts</h2>
        <div class="post skeleton"></div>
        <div class="post skeleton"></div>
      </div>
    </section>

    <section id="postsTab" class="tab hidden">
      <div id="moodWall"></div>
      <!-- Les posts apparaîtront ici -->
    </section>

    <section id="createTab" class="tab hidden">
      <div id="postModal">
        <textarea
          id="moodInput"
          maxlength="100"
          placeholder="Comment tu te sens ?"
        ></textarea>
        <div class="mood-options">
          <input type="color" id="moodColor" value="#ffffff" />
          <input
            type="text"
            class="moodEmoji"
            id="editEmojiBtn"
            readonly
            style="font-size: 2rem; width: 3rem; text-align: center"
          />
          <div id="emojiPickerContainer">
            <emoji-picker id="emojiPicker"></emoji-picker>
          </div>
        </div>
        <!-- Aperçu du post -->
        <p>Aperçu de votre poste</p>
        <div
          id="previewMood"
          class="mood-card"
          style="margin-top: 1rem; min-height: 60px"
        >
          <span id="previewEmoji" style="font-size: 2rem"></span>
          <span id="previewText"></span>
        </div>
        <button id="submitMood">
          <span class="material-symbols-rounded">upload</span>Partager
        </button>
        <!-- Ajouter après mood-options dans la section createTab -->
        <div class="ephemeral-options">
          <label class="ephemeral-toggle">
            <input type="checkbox" id="ephemeralToggle" />
            Message éphémère
          </label>
          <div
            id="durationPicker"
            class="duration-picker"
            style="display: none"
          >
            <div class="duration-input">
              <input
                type="number"
                id="durationDays"
                min="0"
                max="7"
                value="0"
              />
              <label>Jours</label>
            </div>
            <div class="duration-input">
              <input
                type="number"
                id="durationHours"
                min="0"
                max="23"
                value="0"
              />
              <label>Heures</label>
            </div>
            <div class="duration-input">
              <input
                type="number"
                id="durationMinutes"
                min="0"
                max="59"
                value="0"
              />
              <label>Minutes</label>
            </div>
            <div class="duration-input">
              <input
                type="number"
                id="durationSeconds"
                min="0"
                max="59"
                value="0"
              />
              <label>Secondes</label>
            </div>
          </div>
        </div>
      </div>
    </section>

    <section id="popularTab" class="tab hidden"></section>

    <section id="profileTab" class="tab hidden">
      <div id="accountinfo">
        <img
          src="/assets/icons/logo_cropped.jpg"
          alt="AccountAvatar"
          id="accountavatar"
        />
        <p>Votre avatar</p>
        <button>
          <span class="material-symbols-rounded">edit</span>Modifier
        </button>
        <div class="accountname">
          <input placeholder="Votre pseudo" disabled />
          <input placeholder="Votre nom" disabled />
        </div>
        <div class="plusinfos">
          <h4>Informations complémentaires</h4>
          <input placeholder="votre@email.com" disabled />
          <input placeholder="Votre numéro de téléphone" disabled />
          <input placeholder="Votre*mot*de*passe" type="password" disabled />
        </div>
      </div>
      <div id="MoreAccSettings">
        <p><b>Paramètres supplémentaires</b></p>
        <a href="https://github.com/Raphleouf74/moodshare"
          ><button>Accéder au GitHub</button></a
        >
        <button>Conditions Générales du Service</button>
        <button>Politique de confidentialité</button>
        <button>Se déconnecter</button>
        <p><b>Paramètres supplémentaires à propos du compte</b></p>
        <button>Modifier les informations du compte</button>
        <button>Désactiver le compte</button>
        <button>Supprimer le contenu du compte</button>
        <button>Supprimer le compte</button>
      </div>
      <footer>
        <p>
          V<span id="SiteVersion">...</span> Build
          <span id="BuildVersion">...</span>
        </p>
      </footer>
    </section>

    <section id="settingsTab" class="tab hidden">
      <div id="appSettings">
        <h3>Paramètres de l'application</h3>
        <label>
          Thème sombre
          <input type="checkbox" id="darkModeToggle" />
        </label>
        <label>
          Notifications
          <input type="checkbox" id="notificationsToggle" />
        </label>
        <label>
          Langue
          <select id="languageSelect">
            <option value="fr">Français</option>
            <option value="en">English</option>
            <option value="es">Español</option>
            <option value="de">Deutsch</option>
          </select>
        </label>
        <button id="themeToggle">
          Thème <span class="material-symbols-rounded">routine</span>
        </button>
        <button id="increaseFontBtn">
          A+ <span class="material-symbols-rounded">text_increase</span>
        </button>
        <button id="decreaseFontBtn">
          A- <span class="material-symbols-rounded">text_decrease</span>
        </button>
        <button id="readContentBtn">
          Lire la page <span class="material-symbols-rounded">volume_up</span>
        </button>
        <button id="highContrastBtn">
          Contraste de la page
          <span class="material-symbols-rounded">contrast</span>
        </button>
      </div>
    </section>
  </body>
  <!-- Remplacer les 3 lignes d'import de scripts par : -->
  <script type="module" src="scripts/app.js"></script>
  <script defer src="scripts/a11y/a11y.js"></script>
  <script type="module" src="scripts/social/feed.js"></script>
  <script type="module" src="scripts/social/interactions.js"></script>
  <script defer src="scripts/offline/sw-register.js"></script>
  <script>
    if ("serviceWorker" in navigator) {
      window.addEventListener("load", () => {
        navigator.serviceWorker
          .register("/sw.js")
          .then((registration) => {
            console.log("SW enregistré:", registration);
          })
          .catch((error) => {
            console.log("Erreur SW:", error);
          });
      });
    }
  </script>
</html>
