<!doctype html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>MoodShare</title>
    <link rel="icon" href="/assets/logo/logo_dark.jpg" />
    <link rel="stylesheet" href="/styles/main.css" />
    <link rel="stylesheet" href="/styles/messages.css" />
    <script
      type="module"
      src="https://cdn.jsdelivr.net/npm/emoji-picker-element@^1/index.js"
    ></script>
  </head>

  <body>
    <!-- Nouveau loader minimaliste -->
    <div id="loader" class="loader-active">
      <div class="loader-gradient"></div>
      <div class="loader-content">
        <div class="loader-logo">
          <span class="loader-logo-text"
            >Mood<span class="loader-accent">Share</span></span
          >
        </div>
        <div class="loader-bar">
          <div class="loader-bar-fill"></div>
        </div>
      </div>
    </div>

    <header>
      <div class="logo">
        <div class="mainlogo">
          <div class="logodraw">
            <div id="square"></div>
            <div id="circle"></div>
          </div>
          <h1 data-i18n="header_title" style="pointer-events: none">
            MoodShare
          </h1>
        </div>
      </div>
    </header>
    <div id="circleback"></div>
    <div id="squareback"></div>
    <div
      id="accountheader"
      onclick="document.getElementById('authModal').style.display = 'block'"
    >
      <span id="userName">UserName</span>
    </div>

    <div id="authModal">
      <div id="authActions" class="auth-actions">
        <!-- Fond d√©coratif -->
        <div class="auth-bg-orb auth-bg-orb--1"></div>
        <div class="auth-bg-orb auth-bg-orb--2"></div>
        <div class="auth-bg-grid"></div>

        <!-- Bouton fermer -->
        <button
          class="auth-close-btn"
          onclick="document.getElementById('authModal').style.display = 'none'"
          aria-label="Fermer"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="18"
            height="18"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="2.5"
            stroke-linecap="round"
            stroke-linejoin="round"
          >
            <line x1="18" y1="6" x2="6" y2="18" />
            <line x1="6" y1="6" x2="18" y2="18" />
          </svg>
        </button>

        <div class="auth-inner">
          <!-- Colonne gauche ‚Äî branding -->
          <div class="auth-brand">
            <div class="auth-logo-wrap">
              <div class="auth-logo-square"></div>
              <div class="auth-logo-circle"></div>
            </div>
            <h2 class="auth-brand-name">Mood<span>Share</span></h2>
            <p class="auth-brand-tagline" data-i18n="login-message">
              Partage ton humeur avec le monde entier.
            </p>
          </div>

          <!-- Colonne droite ‚Äî actions -->
          <div class="auth-actions-col">
            <p class="auth-actions-label">Choisir une option</p>

            <button
              id="openLogin"
              class="auth-action-btn auth-action-btn--primary"
              data-i18n="login_btn"
            >
              <span class="auth-action-icon">
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="20"
                  height="20"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                >
                  <path d="M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4" />
                  <polyline points="10 17 15 12 10 7" />
                  <line x1="15" y1="12" x2="3" y2="12" />
                </svg>
              </span>
              <span class="auth-action-text">
                <strong>Se connecter</strong>
                <small>Acc√©der √† mon compte</small>
              </span>
              <svg
                class="auth-action-arrow"
                xmlns="http://www.w3.org/2000/svg"
                width="16"
                height="16"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2.5"
                stroke-linecap="round"
                stroke-linejoin="round"
              >
                <polyline points="9 18 15 12 9 6" />
              </svg>
            </button>

            <button
              id="openRegister"
              class="auth-action-btn auth-action-btn--secondary"
              data-i18n="register_btn"
            >
              <span class="auth-action-icon">
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="20"
                  height="20"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                >
                  <path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2" />
                  <circle cx="9" cy="7" r="4" />
                  <line x1="19" y1="8" x2="19" y2="14" />
                  <line x1="22" y1="11" x2="16" y2="11" />
                </svg>
              </span>
              <span class="auth-action-text">
                <strong>S'inscrire</strong>
                <small>Cr√©er un compte gratuit</small>
              </span>
              <svg
                class="auth-action-arrow"
                xmlns="http://www.w3.org/2000/svg"
                width="16"
                height="16"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2.5"
                stroke-linecap="round"
                stroke-linejoin="round"
              >
                <polyline points="9 18 15 12 9 6" />
              </svg>
            </button>

            <div class="auth-divider"><span>ou</span></div>

            <button
              id="guestLogin"
              class="auth-action-btn auth-action-btn--ghost"
              data-i18n="guest_btn"
            >
              <span class="auth-action-icon">
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="20"
                  height="20"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                >
                  <circle cx="12" cy="8" r="5" />
                  <path d="M20 21a8 8 0 0 0-16 0" />
                </svg>
              </span>
              <span class="auth-action-text">
                <strong>Continuer en invit√©</strong>
                <small>Sans cr√©er de compte</small>
              </span>
              <svg
                class="auth-action-arrow"
                xmlns="http://www.w3.org/2000/svg"
                width="16"
                height="16"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2.5"
                stroke-linecap="round"
                stroke-linejoin="round"
              >
                <polyline points="9 18 15 12 9 6" />
              </svg>
            </button>

            <button
              id="logoutBtn"
              class="auth-action-btn auth-action-btn--danger"
              data-i18n="logout_btn"
              style="display: none"
            >
              <span class="auth-action-icon">
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="20"
                  height="20"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                >
                  <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4" />
                  <polyline points="16 17 21 12 16 7" />
                  <line x1="21" y1="12" x2="9" y2="12" />
                </svg>
              </span>
              <span class="auth-action-text">
                <strong>Se d√©connecter</strong>
                <small>Quitter ma session</small>
              </span>
            </button>
          </div>
        </div>
      </div>
    </div>

    <div id="authModalForm" class="modal hidden">
      <div class="auth-form-backdrop" id="authFormBackdrop"></div>
      <form id="authForm" novalidate>
        <!-- D√©cor -->
        <div class="auth-form-orb auth-form-orb--1"></div>
        <div class="auth-form-orb auth-form-orb--2"></div>

        <!-- Header -->
        <div class="auth-form-header">
          <div class="auth-form-logo">
            <div class="afl-sq"></div>
            <div class="afl-ci"></div>
          </div>
          <div>
            <h3 id="authFormTitle" class="auth-form-title">Connexion</h3>
            <p class="auth-form-subtitle">Bienvenue sur MoodShare</p>
          </div>
        </div>

        <!-- Champs -->
        <div class="auth-field" id="authUsernameField">
          <label class="auth-field-label" for="authUsername">Pseudo</label>
          <div class="auth-field-wrap">
            <svg
              class="auth-field-icon"
              xmlns="http://www.w3.org/2000/svg"
              width="16"
              height="16"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
            >
              <circle cx="12" cy="8" r="5" />
              <path d="M20 21a8 8 0 0 0-16 0" />
            </svg>
            <input
              id="authUsername"
              class="auth-input"
              type="text"
              placeholder="Ton pseudo‚Ä¶"
              autocomplete="username"
            />
          </div>
        </div>

        <div class="auth-field">
          <label class="auth-field-label" for="authEmail">Email</label>
          <div class="auth-field-wrap">
            <svg
              class="auth-field-icon"
              xmlns="http://www.w3.org/2000/svg"
              width="16"
              height="16"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
            >
              <rect width="20" height="16" x="2" y="4" rx="2" />
              <path d="m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7" />
            </svg>
            <input
              id="authEmail"
              class="auth-input"
              type="email"
              placeholder="ton@email.com"
              autocomplete="email"
            />
          </div>
        </div>

        <div class="auth-field">
          <label class="auth-field-label" for="authPassword"
            >Mot de passe</label
          >
          <div class="auth-field-wrap">
            <svg
              class="auth-field-icon"
              xmlns="http://www.w3.org/2000/svg"
              width="16"
              height="16"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
            >
              <rect width="18" height="11" x="3" y="11" rx="2" ry="2" />
              <path d="M7 11V7a5 5 0 0 1 10 0v4" />
            </svg>
            <input
              id="authPassword"
              class="auth-input"
              type="password"
              placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢"
              autocomplete="current-password"
              required
            />
            <button
              type="button"
              class="auth-pwd-toggle"
              onclick="
                this.previousElementSibling.type =
                  this.previousElementSibling.type === 'password'
                    ? 'text'
                    : 'password';
                this.classList.toggle('shown');
              "
              tabindex="-1"
              aria-label="Voir le mot de passe"
            >
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="16"
                height="16"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
              >
                <path d="M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z" />
                <circle cx="12" cy="12" r="3" />
              </svg>
            </button>
          </div>
        </div>

        <!-- Erreur -->
        <div
          class="auth-form-error"
          id="authFormError"
          style="display: none"
        ></div>

        <!-- Boutons -->
        <div class="auth-form-btns">
          <button id="authSubmit" type="submit" class="auth-submit-btn">
            Valider
          </button>
          <button id="authCancel" type="button" class="auth-cancel-btn">
            Annuler
          </button>
        </div>
      </form>
    </div>

    <nav id="nav" class="menu" role="navigation" aria-label="Menu">
      <a class="hoverable link active" id="homeTab">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="40"
          height="40"
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          stroke-width="2.25"
          stroke-linecap="round"
          stroke-linejoin="round"
          class="link-icon"
        >
          <path d="M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8" />
          <path
            d="M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"
          />
        </svg>
        <p class="link-title" data-i18n="nav_home">Accueil</p>
      </a>
      <a class="hoverable link" id="messagesTab">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="36"
          height="36"
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          stroke-width="2.25"
          stroke-linecap="round"
          stroke-linejoin="round"
          class="link-icon"
        >
          <path
            d="M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719"
          />
        </svg>
        <p class="link-title">Messages</p>
      </a>
      <a class="hoverable link" id="createTab">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="36"
          height="36"
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          stroke-width="2.25"
          stroke-linecap="round"
          stroke-linejoin="round"
          class="link-icon"
        >
          <circle cx="12" cy="12" r="10" />
          <path d="M8 12h8" />
          <path d="M12 8v8" />
        </svg>
        <p class="link-title" data-i18n="nav_create">Cr√©er</p>
      </a>
      <a class="hoverable link" id="inboxTab">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="36"
          height="36"
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          stroke-width="2.25"
          stroke-linecap="round"
          stroke-linejoin="round"
          class="link-icon"
        >
          <polyline points="22 12 16 12 14 15 10 15 8 12 2 12" />
          <path
            d="M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z"
          />
        </svg>
        <p class="link-title" data-i18n="nav_inbox">Notifications</p>
      </a>

      <a class="hoverable link" id="profileTab">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="24"
          height="24"
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          stroke-width="2"
          stroke-linecap="round"
          stroke-linejoin="round"
          class="link-icon"
        >
          <path d="M5 12h14" />
          <path d="M12 5v14" />
        </svg>
        <p class="link-title" data-i18n="nav_profile">Plus</p>
      </a>
    </nav>
    <section id="homeTab" class="tab active">
      <div class="stories">
        <h2 data-i18n="home_stories">Stories</h2>
        <div class="stories-list">
          <div
            class="story add-story"
            id="addStoryBtn"
            title="Ajouter une story"
          >
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="22"
              height="22"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
            >
              <path d="M5 12h14" />
              <path d="M12 5v14" />
            </svg>
          </div>
        </div>
      </div>

      <div class="posts-section">
        <h2 data-i18n="home_recent_posts">Posts r√©cents</h2>
        <div id="moodWall"></div>
      </div>
    </section>

    <section id="postsTab" class="tab hidden"></section>

    <section id="createTab" class="tab hidden">
      <div class="create-container">
        <!-- Titre -->
        <div class="create-header">
          <h2 data-i18n="create_title">Cr√©er un post</h2>
          <p class="create-subtitle" data-i18n="create_subtitle">
            Exprime ce que tu ressens
          </p>
        </div>

        <!-- Zone de saisie -->
        <div class="create-input-group">
          <textarea
            id="moodInput"
            class="create-textarea"
            maxlength="200"
            placeholder="Comment tu te sens ?"
            data-i18n="create_placeholder"
            rows="4"
          ></textarea>
          <div class="create-char-count">
            <span id="charCount">0</span><span>/200</span>
          </div>
        </div>

        <!-- Barre d'outils -->
        <div class="create-toolbar">
          <!-- Emoji picker button -->
          <button
            type="button"
            class="create-tool-btn"
            id="emojiToolBtn"
            title="Ajouter un emoji"
          >
            <svg
              width="20"
              height="20"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
              viewBox="0 0 24 24"
            >
              <circle cx="12" cy="12" r="10" />
              <path d="M8 14s1.5 2 4 2 4-2 4-2" />
              <line x1="9" y1="9" x2="9.01" y2="9" />
              <line x1="15" y1="9" x2="15.01" y2="9" />
            </svg>
            <span>Emoji</span>
          </button>

          <!-- Sticker picker button -->
          <!-- <button
            type="button"
            class="create-tool-btn"
            id="stickerToolBtn"
            title="Ajouter un sticker GIF"
          >
            <svg
              width="20"
              height="20"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
              viewBox="0 0 24 24"
            >
              <rect x="3" y="3" width="18" height="18" rx="2" />
              <circle cx="8.5" cy="8.5" r="1.5" />
              <polyline points="21 15 16 10 5 21" />
            </svg>
            <span>Sticker</span>
          </button> -->

          <!-- Color presets -->
          <div class="create-color-group">
            <button
              type="button"
              class="create-color-preset"
              data-color="#ffffff"
              style="background: #ffffff"
              title="Blanc"
            ></button>
            <button
              type="button"
              class="create-color-preset"
              data-color="#fef3c7"
              style="background: #fef3c7"
              title="Jaune pastel"
            ></button>
            <button
              type="button"
              class="create-color-preset"
              data-color="#fecaca"
              style="background: #fecaca"
              title="Rouge pastel"
            ></button>
            <button
              type="button"
              class="create-color-preset"
              data-color="#bfdbfe"
              style="background: #bfdbfe"
              title="Bleu pastel"
            ></button>
            <button
              type="button"
              class="create-color-preset"
              data-color="#d9f99d"
              style="background: #d9f99d"
              title="Vert pastel"
            ></button>
            <button
              type="button"
              class="create-color-preset"
              data-color="#e9d5ff"
              style="background: #e9d5ff"
              title="Violet pastel"
            ></button>
            <button
              type="button"
              class="create-color-preset"
              data-color="#1f2937"
              style="background: #1f2937"
              title="Noir"
            ></button>
            <input
              type="color"
              id="moodColor"
              value="#ffffff"
              class="create-color-custom"
              title="Couleur personnalis√©e"
            />
          </div>
        </div>

        <!-- Emoji picker overlay (hidden by default) -->
        <div
          id="emojiPickerOverlay"
          class="create-picker-overlay"
          style="display: none"
        >
          <div class="create-picker-panel">
            <div class="create-picker-header">
              <span>Choisir un emoji</span>
              <button
                type="button"
                class="create-picker-close"
                aria-label="Fermer"
              >
                √ó
              </button>
            </div>
            <emoji-picker id="emojiPicker"></emoji-picker>
          </div>
        </div>

        <!-- Sticker picker overlay (hidden by default) -->
        <!-- <div
          id="stickerPickerOverlay"
          class="create-picker-overlay"
          style="display: none"
        >
          <div class="create-picker-panel">
            <div class="create-picker-header">
              <span>Rechercher un sticker</span>
              <button
                type="button"
                class="create-picker-close"
                aria-label="Fermer"
              >
                √ó
              </button>
            </div>
            <div class="sticker-search">
              <input
                type="text"
                id="stickerSearchInput"
                placeholder="Rechercher sur Tenor..."
              />
              <button type="button" id="stickerSearchBtn">
                <svg
                  width="18"
                  height="18"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2.5"
                  viewBox="0 0 24 24"
                >
                  <circle cx="11" cy="11" r="8" />
                  <path d="m21 21-4.35-4.35" />
                </svg>
              </button>
            </div>
            <div id="stickerResults" class="sticker-results"></div>
            <div class="tenor-credit">
              Powered by <a href="https://tenor.com" target="_blank">Tenor</a>
            </div>
          </div>
        </div> -->

        <!-- Preview live -->
        <div class="create-preview">
          <div class="create-preview-label" data-i18n="create_preview">
            Aper√ßu
          </div>
          <div id="previewMood" class="create-preview-card">
            <div class="create-preview-emoji" id="previewEmoji">üëã</div>
            <div class="create-preview-text" id="previewText">
              Ton message appara√Ætra ici...
            </div>
            <img
              id="previewSticker"
              class="create-preview-sticker"
              style="display: none"
              alt="Sticker"
            />
          </div>
        </div>

        <!-- Options avanc√©es -->
        <div class="create-advanced">
          <!-- Story toggle -->
          <label class="create-toggle">
            <input type="checkbox" id="storyModeToggle" />
            <span class="create-toggle-slider"></span>
            <span class="create-toggle-label">
              <svg
                width="16"
                height="16"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
                viewBox="0 0 24 24"
              >
                <circle cx="12" cy="12" r="10" />
                <path d="M12 6v6l4 2" />
              </svg>
              <span data-i18n="create_story">Story 24h</span>
            </span>
          </label>

          <!-- Ephemeral toggle -->
          <label class="create-toggle">
            <input type="checkbox" id="ephemeralToggle" />
            <span class="create-toggle-slider"></span>
            <span class="create-toggle-label">
              <svg
                width="16"
                height="16"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
                viewBox="0 0 24 24"
              >
                <polyline points="1 4 1 10 7 10" />
                <polyline points="23 20 23 14 17 14" />
                <path
                  d="M20.49 9A9 9 0 0 0 5.64 5.64L1 10m22 4l-4.64 4.36A9 9 0 0 1 3.51 15"
                />
              </svg>
              <span data-i18n="create_ephemeral">Message √©ph√©m√®re</span>
            </span>
          </label>
        </div>

        <!-- Duration picker (shown when ephemeral is on) -->
        <div id="durationPicker" class="create-duration" style="display: none">
          <div class="create-duration-inputs">
            <div class="create-duration-field">
              <input
                type="number"
                id="durationDays"
                min="0"
                max="30"
                placeholder="0"
              />
              <label data-i18n="days">jours</label>
            </div>
            <div class="create-duration-field">
              <input
                type="number"
                id="durationHours"
                min="0"
                max="23"
                placeholder="0"
              />
              <label data-i18n="hours">heures</label>
            </div>
            <div class="create-duration-field">
              <input
                type="number"
                id="durationMinutes"
                min="0"
                max="59"
                placeholder="0"
              />
              <label data-i18n="minutes">minutes</label>
            </div>
          </div>
          <div class="create-duration-preview">
            <span data-i18n="create_expire_at">Expire le :</span>
            <strong id="msgdeletetime">‚Äî</strong>
          </div>
        </div>

        <!-- Hidden inputs for compatibility -->
        <input
          type="color"
          id="textColor"
          value="#000000"
          style="display: none"
        />
        <input type="text" class="moodEmoji" style="display: none" readonly />

        <!-- Submit button -->
        <button type="button" class="create-submit-btn" id="submitMood">
          <svg
            width="20"
            height="20"
            fill="none"
            stroke="currentColor"
            stroke-width="2.5"
            viewBox="0 0 24 24"
          >
            <path d="m22 2-7 20-4-9-9-4Z" />
            <path d="M22 2 11 13" />
          </svg>
          <span data-i18n="create_share">Partager</span>
        </button>
      </div>
    </section>

    <section id="inboxTab" class="tab hidden">
      <h1 data-i18n="inbox_title">Bo√Æte de r√©c√©ption</h1>
      <div id="inboxdiv">
        <i data-i18n="inbox_empty">Vos notifications appara√Ætront ici.</i>
      </div>
    </section>
    <section id="messagesTab" class="tab hidden">
      <h1 data-i18n="messages_title">Messages</h1>
      <div id="messagesdiv"></div>
    </section>

    <section id="profileTab" class="tab hidden">
      <div id="accountinfo">
        <h2 data-i18n="profile_your_profile">Votre profil</h2>
        <div id="socialStats">
          <p>
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="36"
              height="36"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2.25"
              stroke-linecap="round"
              stroke-linejoin="round"
              class="lucide lucide-users-icon lucide-users"
            >
              <path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2" />
              <path d="M16 3.128a4 4 0 0 1 0 7.744" />
              <path d="M22 21v-2a4 4 0 0 0-3-3.87" />
              <circle cx="9" cy="7" r="4" />
            </svg>
            <span id="countFollowers">0</span>
          </p>
          <p>
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="36"
              height="36"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2.25"
              stroke-linecap="round"
              stroke-linejoin="round"
              class="lucide lucide-heart-icon lucide-heart"
            >
              <path
                d="M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5"
              />
            </svg>
            <span id="countLikes">0</span>
          </p>
          <p>
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="36"
              height="36"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2.25"
              stroke-linecap="round"
              stroke-linejoin="round"
              class="lucide lucide-newspaper-icon lucide-newspaper"
            >
              <path d="M15 18h-5" />
              <path d="M18 14h-8" />
              <path
                d="M4 22h16a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v16a2 2 0 0 1-4 0v-9a2 2 0 0 1 2-2h2"
              />
              <rect width="8" height="4" x="10" y="6" rx="1" />
            </svg>
            <span id="countPosts">0</span>
          </p>
        </div>
        <div id="userPostsSection">
          <h2 data-i18n="profile_posts">Vos posts</h2>
          <div id="userPostsWall"><i>Chargement des posts...</i></div>
        </div>
      </div>

      <!-- üß† Section des posts du profil -->

      <div id="MoreAccSettings">
        <a
          href="https://ko-fi.com/moodshare"
          target="_blank"
          class="donate-btn"
          rel="noopener"
        >
          <button class="hoverable" data-i18n="donate">Faire un don</button>
        </a>
        <a href="Legal/TERMS_OF_SERVICE.html"
          ><button class="hoverable">
            <p data-i18n="CGU_title">Conditions g√©n√©rales du service</p>
          </button></a
        >
        <a href="Legal/PRIVACY_POLICY.html"
          ><button class="hoverable">
            <p data-i18n="Policy_title">Politique de confidentialit√©</p>
          </button></a
        >
        <a>
          <button class="hoverable" id="goToSettingsBtn">
            <b>
              <p data-i18n="nav_settings">Param√®tres</p>
            </b>
          </button></a
        >
        <!-- <button class="hoverable" id="logoutBtn">Se d√©connecter</button class="hoverable">
      <p><b>Gestion du compte</b></p>
      <button class="hoverable" id="editAccountBtn">Modifier les informations</button class="hoverable">
      <button class="hoverable" id="disableAccountBtn">D√©sactiver le compte</button class="hoverable">
      <button class="hoverable" id="clearContentBtn">Supprimer le contenu</button class="hoverable">
      <button class="hoverable" id="deleteAccountBtn">Supprimer le compte</button class="hoverable"> -->
      </div>
      <button style="background-color: transparent; border: none">
        <a
          href="moodshare.apk"
          download
          style="
            display: inline-flex;
            align-items: center;
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            color: black;
            padding: 12px 24px;
            border-radius: 50px;
            text-decoration: none;
            font-family: sans-serif;
            font-weight: 600;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
          "
        >
          Installer l'App (Android)
        </a>
      </button>
      <footer>
        <p data-i18n="copyright">
          <b>Moodshare &copy; 2025-2026.</b> Toute reproduction partielle ou
          totale est strictement interdite.
        </p>
        <p>
          <span id="SiteVersion">...</span> Build
          <span id="BuildVersion">...</span>
        </p>
      </footer>
    </section>

    <section id="settingsTab" class="tab hidden">
      <div id="appSettings">
        <div id="settingstitle">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="24"
            height="24"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"
            class="lucide lucide-settings-icon lucide-settings"
          >
            <path
              d="M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915"
            />
            <circle cx="12" cy="12" r="3" />
          </svg>
          <h1 data-i18n="settings_app">Param√®tres de l'application</h1>
        </div>
        <!-- Language Picker -->
        <div class="language-picker">
          <p data-i18n="settings_language" class="lp-title">Langue</p>

          <div class="lp-control">
            <button
              class="lp-button"
              id="lpOpenBtn"
              aria-haspopup="dialog"
              aria-expanded="false"
            >
              <span id="lpCurrentFlag" class="lp-flag">üåê</span>
              <span id="lpCurrentLabel">Fran√ßais</span>
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="36"
                height="36"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2.25"
                stroke-linecap="round"
                stroke-linejoin="round"
                class="lucide lucide-arrow-down-icon lucide-arrow-down"
              >
                <path d="M12 5v14" />
                <path d="m19 12-7 7-7-7" />
              </svg>
            </button>
            <div
              id="lpPopup"
              class="lp-popup"
              role="dialog"
              aria-label="Language selector"
            >
              <div id="lpGrid" class="lp-grid" tabindex="0"></div>
            </div>
          </div>
        </div>

        <div class="lowend-settings">
          <h4 data-i18n="settings-performance">Mode performance</h4>
          <p class="lp-title">
            Mode "low‚Äëend" (d√©tection automatique ou manuel)
          </p>

          <div
            class="lowend-controls"
            role="radiogroup"
            aria-label="Low end mode"
          >
            <label>
              <input
                type="radio"
                name="lowEndMode"
                id="lowEndAuto"
                value="auto"
              />
              <p data-i18n="perf-auto">Auto (d√©tection)</p>
            </label>
            <label>
              <input
                type="radio"
                name="lowEndMode"
                id="lowEndForce"
                value="on"
              />
              <p data-i18n="perf-low">Forcer low-end</p>
            </label>
            <label>
              <input
                type="radio"
                name="lowEndMode"
                id="lowEndOff"
                value="off"
              />
              <p data-i18n="perf-unactive">D√©sactiver</p>
            </label>
          </div>
        </div>
      </div>
    </section>

    <!-- ===== REPORT MODAL ===== -->
    <div
      id="reportModalOverlay"
      class="report-modal-overlay hidden"
      onclick="if (event.target === this) window.closeReportModal();"
    >
      <div class="report-modal-panel">
        <div class="report-modal-header">
          <div class="report-modal-title">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="20"
              height="20"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
            >
              <path
                d="M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z"
              />
              <line x1="4" y1="22" x2="4" y2="15" />
            </svg>
            Signaler ce post
          </div>
          <button
            class="report-modal-close"
            onclick="window.closeReportModal()"
            aria-label="Fermer"
          >
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="20"
              height="20"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2.5"
              stroke-linecap="round"
              stroke-linejoin="round"
            >
              <line x1="18" y1="6" x2="6" y2="18" />
              <line x1="6" y1="6" x2="18" y2="18" />
            </svg>
          </button>
        </div>

        <div class="report-modal-body">
          <div class="report-field">
            <label class="report-label" for="reportCategory"
              >Cat√©gorie du signalement</label
            >
            <div class="report-select-wrap">
              <select id="reportCategory" class="report-select">
                <option value="" disabled selected>
                  Choisir une cat√©gorie‚Ä¶
                </option>
                <option value="Contenu haineux">
                  üö´ Contenu haineux ou discriminatoire
                </option>
                <option value="Harc√®lement">
                  üò† Harc√®lement ou intimidation
                </option>
                <option value="Spam">üì¢ Spam ou contenu r√©p√©titif</option>
                <option value="Contenu inappropri√©">
                  üîû Contenu inappropri√© ou choquant
                </option>
                <option value="D√©sinformation">
                  ‚ùå Fausse information / d√©sinformation
                </option>
                <option value="Atteinte √† la vie priv√©e">
                  üîí Atteinte √† la vie priv√©e
                </option>
                <option value="Autre">üí¨ Autre</option>
              </select>
            </div>
          </div>

          <div class="report-field">
            <label class="report-label" for="reportDetail">
              D√©cris le probl√®me
              <span id="reportCharCount" class="report-charcount">0 / 500</span>
            </label>
            <textarea
              id="reportDetail"
              class="report-textarea"
              placeholder="Explique pourquoi ce post pose probl√®me‚Ä¶"
              maxlength="500"
              oninput="
                document.getElementById('reportCharCount').textContent =
                  this.value.length + ' / 500'
              "
            ></textarea>
          </div>

          <div
            id="reportError"
            class="report-msg report-msg--error"
            style="display: none"
          ></div>
          <div
            id="reportSuccess"
            class="report-msg report-msg--success"
            style="display: none"
          >
            ‚úÖ Ton signalement a bien √©t√© envoy√©. Merci !
          </div>

          <div class="report-footer">
            <button
              class="report-cancel-btn"
              onclick="window.closeReportModal()"
            >
              Annuler
            </button>
            <button
              id="reportSubmitBtn"
              class="report-submit-btn"
              onclick="window.submitReport()"
            >
              Envoyer le signalement
            </button>
          </div>
        </div>
      </div>
    </div>
    <script type="module" src="/scripts/messages.js"></script>
  </body>
  <script type="module" src="scripts/app.js"></script>
  <script type="module" src="scripts/auth.js"></script>
  <script type="module" src="scripts/profile.js"></script>
  <script type="module" src="/scripts/lang-picker.js"></script>
</html>
